(self.webpackChunkxiaozhicloud=self.webpackChunkxiaozhicloud||[]).push([[179],{92453:function(I){I.exports={container:"container___24lE3",content:"content___1Bpdt",title:"title___3F8Ha",icon:"icon___2tsIa"}},66342:function(I,p,e){"use strict";e.r(p),e.d(p,{default:function(){return D}});var x=e(34792),g=e(48086),n=e(90636),f=e(11849),o=e(3182),P=e(89366),B=e(2603),Z=e(70469),d=e(89762),C=e(67294),O=e(8322),A=e.n(O),L=e(72709);function M(U){return S.apply(this,arguments)}function S(){return S=(0,o.Z)((0,n.Z)().mark(function U(y){return(0,n.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,L.Z)("/api/v1/login/account",{method:"POST",data:y}));case 1:case"end":return c.stop()}},U)})),S.apply(this,arguments)}var j=e(70719),T=e(92453),v=e.n(T),t=e(85893),F=function(){var y=(0,j.tT)("@@initialState"),m=y.initialState,c=y.setInitialState,$=function(){var h=(0,o.Z)((0,n.Z)().mark(function i(){var a,u;return(0,n.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,m==null||(a=m.fetchUserInfo)===null||a===void 0?void 0:a.call(m);case 2:if(u=s.sent,!u){s.next=6;break}return s.next=6,c(function(E){return(0,f.Z)((0,f.Z)({},E),{},{currentUser:u})});case 6:case"end":return s.stop()}},i)}));return function(){return h.apply(this,arguments)}}(),N=function(){var h=(0,o.Z)((0,n.Z)().mark(function i(a){var u,l,s,E;return(0,n.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a.password=A().hash(a.password),r.next=4,M((0,f.Z)({},a));case 4:if(u=r.sent,u.stat){r.next=8;break}return g.ZP.warn(u.msg),r.abrupt("return");case 8:return g.ZP.success("\u767B\u5F55\u6210\u529F\uFF01"),r.next=11,$();case 11:if(j.m8){r.next=13;break}return r.abrupt("return");case 13:l=j.m8.location.query,s=l,E=s.redirect,j.m8.push(E||"/"),r.next=21;break;case 18:r.prev=18,r.t0=r.catch(0),console.log(r.t0);case 21:case"end":return r.stop()}},i,null,[[0,18]])}));return function(a){return h.apply(this,arguments)}}();return(0,t.jsx)("div",{className:v().container,children:(0,t.jsxs)("div",{className:v().content,children:[(0,t.jsx)("div",{className:v().title}),(0,t.jsxs)(Z.U,{initialValues:{autoLogin:!0},onFinish:function(){var h=(0,o.Z)((0,n.Z)().mark(function i(a){return(0,n.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,N(a);case 2:case"end":return l.stop()}},i)}));return function(i){return h.apply(this,arguments)}}(),children:[(0,t.jsx)(d.Z,{name:"phone",fieldProps:{size:"large",prefix:(0,t.jsx)(P.Z,{className:v().prefixIcon})},placeholder:"\u8BF7\u529E\u5165\u624B\u673A\u53F7",rules:[{required:!0,message:"\u624B\u673A\u53F7\u4E0D\u80FD\u4E3A\u7A7A"},{pattern:/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/,message:"\u624B\u673A\u53F7\u4E0D\u4F1A\u6CD5"}]}),(0,t.jsx)(d.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,t.jsx)(B.Z,{className:v().prefixIcon})},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",rules:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"},{min:6,message:"\u5BC6\u7801\u4E0D\u80FD\u5C0F\u4E8E6\u4F4D"},{max:20,message:"\u5BC6\u7801\u4E0D\u80FD\u8D85\u8FC720\u4F4D"}]}),(0,t.jsx)("div",{style:{marginBottom:24}})]})]})})},D=F},72709:function(I,p,e){"use strict";var x=e(74379),g=e(38648),n=e(11238),f={200:"\u670D\u52A1\u5668\u6210\u529F\u8FD4\u56DE\u8BF7\u6C42\u7684\u6570\u636E\u3002",201:"\u65B0\u5EFA\u6216\u4FEE\u6539\u6570\u636E\u6210\u529F\u3002",202:"\u4E00\u4E2A\u8BF7\u6C42\u5DF2\u7ECF\u8FDB\u5165\u540E\u53F0\u6392\u961F\uFF08\u5F02\u6B65\u4EFB\u52A1\uFF09\u3002",204:"\u5220\u9664\u6570\u636E\u6210\u529F\u3002",400:"\u53D1\u51FA\u7684\u8BF7\u6C42\u6709\u9519\u8BEF\uFF0C\u670D\u52A1\u5668\u6CA1\u6709\u8FDB\u884C\u65B0\u5EFA\u6216\u4FEE\u6539\u6570\u636E\u7684\u64CD\u4F5C\u3002",401:"\u7528\u6237\u6CA1\u6709\u6743\u9650\uFF08\u4EE4\u724C\u3001\u7528\u6237\u540D\u3001\u5BC6\u7801\u9519\u8BEF\uFF09\u3002",403:"\u7528\u6237\u5F97\u5230\u6388\u6743\uFF0C\u4F46\u662F\u8BBF\u95EE\u662F\u88AB\u7981\u6B62\u7684\u3002",404:"\u53D1\u51FA\u7684\u8BF7\u6C42\u9488\u5BF9\u7684\u662F\u4E0D\u5B58\u5728\u7684\u8BB0\u5F55\uFF0C\u670D\u52A1\u5668\u6CA1\u6709\u8FDB\u884C\u64CD\u4F5C\u3002",406:"\u8BF7\u6C42\u7684\u683C\u5F0F\u4E0D\u53EF\u5F97\u3002",410:"\u8BF7\u6C42\u7684\u8D44\u6E90\u88AB\u6C38\u4E45\u5220\u9664\uFF0C\u4E14\u4E0D\u4F1A\u518D\u5F97\u5230\u7684\u3002",422:"\u5F53\u521B\u5EFA\u4E00\u4E2A\u5BF9\u8C61\u65F6\uFF0C\u53D1\u751F\u4E00\u4E2A\u9A8C\u8BC1\u9519\u8BEF\u3002",500:"\u670D\u52A1\u5668\u53D1\u751F\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u670D\u52A1\u5668\u3002",502:"\u7F51\u5173\u9519\u8BEF\u3002",503:"\u670D\u52A1\u4E0D\u53EF\u7528\uFF0C\u670D\u52A1\u5668\u6682\u65F6\u8FC7\u8F7D\u6216\u7EF4\u62A4\u3002",504:"\u7F51\u5173\u8D85\u65F6\u3002"},o=function(Z){var d=Z.response,C=Z.data;if(d&&d.status){var O=d.status;g.Z.error({message:f[O]})}return C},P=(0,n.l7)({errorHandler:o,credentials:"include",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true"},requestType:"json"});p.Z=P}}]);
